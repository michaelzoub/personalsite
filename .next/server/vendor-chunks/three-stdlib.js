"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/three-stdlib";
exports.ids = ["vendor-chunks/three-stdlib"];
exports.modules = {

/***/ "(ssr)/./node_modules/three-stdlib/controls/EventDispatcher.js":
/*!***************************************************************!*\
  !*** ./node_modules/three-stdlib/controls/EventDispatcher.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventDispatcher: () => (/* binding */ EventDispatcher)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass EventDispatcher {\n  constructor() {\n    // not defined in @types/three\n    __publicField(this, \"_listeners\");\n  }\n  /**\n   * Adds a listener to an event type.\n   * @param type The type of event to listen to.\n   * @param listener The function that gets called when the event is fired.\n   */\n  addEventListener(type, listener) {\n    if (this._listeners === void 0)\n      this._listeners = {};\n    const listeners = this._listeners;\n    if (listeners[type] === void 0) {\n      listeners[type] = [];\n    }\n    if (listeners[type].indexOf(listener) === -1) {\n      listeners[type].push(listener);\n    }\n  }\n  /**\n      * Checks if listener is added to an event type.\n      * @param type The type of event to listen to.\n      * @param listener The function that gets called when the event is fired.\n      */\n  hasEventListener(type, listener) {\n    if (this._listeners === void 0)\n      return false;\n    const listeners = this._listeners;\n    return listeners[type] !== void 0 && listeners[type].indexOf(listener) !== -1;\n  }\n  /**\n      * Removes a listener from an event type.\n      * @param type The type of the listener that gets removed.\n      * @param listener The listener function that gets removed.\n      */\n  removeEventListener(type, listener) {\n    if (this._listeners === void 0)\n      return;\n    const listeners = this._listeners;\n    const listenerArray = listeners[type];\n    if (listenerArray !== void 0) {\n      const index = listenerArray.indexOf(listener);\n      if (index !== -1) {\n        listenerArray.splice(index, 1);\n      }\n    }\n  }\n  /**\n      * Fire an event type.\n      * @param event The event that gets fired.\n      */\n  dispatchEvent(event) {\n    if (this._listeners === void 0)\n      return;\n    const listeners = this._listeners;\n    const listenerArray = listeners[event.type];\n    if (listenerArray !== void 0) {\n      event.target = this;\n      const array = listenerArray.slice(0);\n      for (let i = 0, l = array.length; i < l; i++) {\n        array[i].call(this, event);\n      }\n      event.target = null;\n    }\n  }\n}\n\n//# sourceMappingURL=EventDispatcher.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL2NvbnRyb2xzL0V2ZW50RGlzcGF0Y2hlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSw4RUFBOEUsNkRBQTZEO0FBQzNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsT0FBTztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG1pY2hhXFxEb3dubG9hZHNcXHpvdWJrb2Zmc2l0ZVxccGVyc29uYWxzaXRlXFxub2RlX21vZHVsZXNcXHRocmVlLXN0ZGxpYlxcY29udHJvbHNcXEV2ZW50RGlzcGF0Y2hlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XG4gIF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5jbGFzcyBFdmVudERpc3BhdGNoZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBub3QgZGVmaW5lZCBpbiBAdHlwZXMvdGhyZWVcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2xpc3RlbmVyc1wiKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIGxpc3RlbmVyIHRvIGFuIGV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlIG9mIGV2ZW50IHRvIGxpc3RlbiB0by5cbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGZpcmVkLlxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHZvaWQgMClcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcbiAgICBpZiAobGlzdGVuZXJzW3R5cGVdID09PSB2b2lkIDApIHtcbiAgICAgIGxpc3RlbmVyc1t0eXBlXSA9IFtdO1xuICAgIH1cbiAgICBpZiAobGlzdGVuZXJzW3R5cGVdLmluZGV4T2YobGlzdGVuZXIpID09PSAtMSkge1xuICAgICAgbGlzdGVuZXJzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICAgICogQ2hlY2tzIGlmIGxpc3RlbmVyIGlzIGFkZGVkIHRvIGFuIGV2ZW50IHR5cGUuXG4gICAgICAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlIG9mIGV2ZW50IHRvIGxpc3RlbiB0by5cbiAgICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGZpcmVkLlxuICAgICAgKi9cbiAgaGFzRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHZvaWQgMClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgcmV0dXJuIGxpc3RlbmVyc1t0eXBlXSAhPT0gdm9pZCAwICYmIGxpc3RlbmVyc1t0eXBlXS5pbmRleE9mKGxpc3RlbmVyKSAhPT0gLTE7XG4gIH1cbiAgLyoqXG4gICAgICAqIFJlbW92ZXMgYSBsaXN0ZW5lciBmcm9tIGFuIGV2ZW50IHR5cGUuXG4gICAgICAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlIG9mIHRoZSBsaXN0ZW5lciB0aGF0IGdldHMgcmVtb3ZlZC5cbiAgICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0aGF0IGdldHMgcmVtb3ZlZC5cbiAgICAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB2b2lkIDApXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgIGNvbnN0IGxpc3RlbmVyQXJyYXkgPSBsaXN0ZW5lcnNbdHlwZV07XG4gICAgaWYgKGxpc3RlbmVyQXJyYXkgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lckFycmF5LmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBsaXN0ZW5lckFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgICAgKiBGaXJlIGFuIGV2ZW50IHR5cGUuXG4gICAgICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdGhhdCBnZXRzIGZpcmVkLlxuICAgICAgKi9cbiAgZGlzcGF0Y2hFdmVudChldmVudCkge1xuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHZvaWQgMClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgY29uc3QgbGlzdGVuZXJBcnJheSA9IGxpc3RlbmVyc1tldmVudC50eXBlXTtcbiAgICBpZiAobGlzdGVuZXJBcnJheSAhPT0gdm9pZCAwKSB7XG4gICAgICBldmVudC50YXJnZXQgPSB0aGlzO1xuICAgICAgY29uc3QgYXJyYXkgPSBsaXN0ZW5lckFycmF5LnNsaWNlKDApO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgYXJyYXlbaV0uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICB9XG4gICAgICBldmVudC50YXJnZXQgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IHtcbiAgRXZlbnREaXNwYXRjaGVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnREaXNwYXRjaGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-stdlib/controls/EventDispatcher.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/three-stdlib/controls/TrackballControls.js":
/*!*****************************************************************!*\
  !*** ./node_modules/three-stdlib/controls/TrackballControls.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TrackballControls: () => (/* binding */ TrackballControls)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.core.js\");\n/* harmony import */ var _EventDispatcher_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventDispatcher.js */ \"(ssr)/./node_modules/three-stdlib/controls/EventDispatcher.js\");\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\n\n\nclass TrackballControls extends _EventDispatcher_js__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {\n  constructor(object, domElement) {\n    super();\n    __publicField(this, \"enabled\", true);\n    __publicField(this, \"screen\", { left: 0, top: 0, width: 0, height: 0 });\n    __publicField(this, \"rotateSpeed\", 1);\n    __publicField(this, \"zoomSpeed\", 1.2);\n    __publicField(this, \"panSpeed\", 0.3);\n    __publicField(this, \"noRotate\", false);\n    __publicField(this, \"noZoom\", false);\n    __publicField(this, \"noPan\", false);\n    __publicField(this, \"staticMoving\", false);\n    __publicField(this, \"dynamicDampingFactor\", 0.2);\n    __publicField(this, \"minDistance\", 0);\n    __publicField(this, \"maxDistance\", Infinity);\n    __publicField(this, \"keys\", [\n      \"KeyA\",\n      \"KeyS\",\n      \"KeyD\"\n      /*D*/\n    ]);\n    __publicField(this, \"mouseButtons\", {\n      LEFT: three__WEBPACK_IMPORTED_MODULE_1__.MOUSE.ROTATE,\n      MIDDLE: three__WEBPACK_IMPORTED_MODULE_1__.MOUSE.DOLLY,\n      RIGHT: three__WEBPACK_IMPORTED_MODULE_1__.MOUSE.PAN\n    });\n    __publicField(this, \"object\");\n    __publicField(this, \"domElement\");\n    __publicField(this, \"cursorZoom\", false);\n    __publicField(this, \"target\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"mousePosition\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector2());\n    // internals\n    __publicField(this, \"STATE\", {\n      NONE: -1,\n      ROTATE: 0,\n      ZOOM: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_ZOOM_PAN: 4\n    });\n    __publicField(this, \"EPS\", 1e-6);\n    __publicField(this, \"lastZoom\", 1);\n    __publicField(this, \"lastPosition\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"cursorVector\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"targetVector\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"_state\", this.STATE.NONE);\n    __publicField(this, \"_keyState\", this.STATE.NONE);\n    __publicField(this, \"_eye\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"_movePrev\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector2());\n    __publicField(this, \"_moveCurr\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector2());\n    __publicField(this, \"_lastAxis\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"_lastAngle\", 0);\n    __publicField(this, \"_zoomStart\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector2());\n    __publicField(this, \"_zoomEnd\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector2());\n    __publicField(this, \"_touchZoomDistanceStart\", 0);\n    __publicField(this, \"_touchZoomDistanceEnd\", 0);\n    __publicField(this, \"_panStart\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector2());\n    __publicField(this, \"_panEnd\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector2());\n    __publicField(this, \"target0\");\n    __publicField(this, \"position0\");\n    __publicField(this, \"up0\");\n    __publicField(this, \"zoom0\");\n    // events\n    __publicField(this, \"changeEvent\", { type: \"change\" });\n    __publicField(this, \"startEvent\", { type: \"start\" });\n    __publicField(this, \"endEvent\", { type: \"end\" });\n    __publicField(this, \"onScreenVector\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector2());\n    __publicField(this, \"getMouseOnScreen\", (pageX, pageY) => {\n      this.onScreenVector.set(\n        (pageX - this.screen.left) / this.screen.width,\n        (pageY - this.screen.top) / this.screen.height\n      );\n      return this.onScreenVector;\n    });\n    __publicField(this, \"onCircleVector\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector2());\n    __publicField(this, \"getMouseOnCircle\", (pageX, pageY) => {\n      this.onCircleVector.set(\n        (pageX - this.screen.width * 0.5 - this.screen.left) / (this.screen.width * 0.5),\n        (this.screen.height + 2 * (this.screen.top - pageY)) / this.screen.width\n        // screen.width intentional\n      );\n      return this.onCircleVector;\n    });\n    __publicField(this, \"axis\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"quaternion\", new three__WEBPACK_IMPORTED_MODULE_1__.Quaternion());\n    __publicField(this, \"eyeDirection\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"objectUpDirection\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"objectSidewaysDirection\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"moveDirection\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"angle\", 0);\n    __publicField(this, \"rotateCamera\", () => {\n      this.moveDirection.set(this._moveCurr.x - this._movePrev.x, this._moveCurr.y - this._movePrev.y, 0);\n      this.angle = this.moveDirection.length();\n      if (this.angle) {\n        this._eye.copy(this.object.position).sub(this.target);\n        this.eyeDirection.copy(this._eye).normalize();\n        this.objectUpDirection.copy(this.object.up).normalize();\n        this.objectSidewaysDirection.crossVectors(this.objectUpDirection, this.eyeDirection).normalize();\n        this.objectUpDirection.setLength(this._moveCurr.y - this._movePrev.y);\n        this.objectSidewaysDirection.setLength(this._moveCurr.x - this._movePrev.x);\n        this.moveDirection.copy(this.objectUpDirection.add(this.objectSidewaysDirection));\n        this.axis.crossVectors(this.moveDirection, this._eye).normalize();\n        this.angle *= this.rotateSpeed;\n        this.quaternion.setFromAxisAngle(this.axis, this.angle);\n        this._eye.applyQuaternion(this.quaternion);\n        this.object.up.applyQuaternion(this.quaternion);\n        this._lastAxis.copy(this.axis);\n        this._lastAngle = this.angle;\n      } else if (!this.staticMoving && this._lastAngle) {\n        this._lastAngle *= Math.sqrt(1 - this.dynamicDampingFactor);\n        this._eye.copy(this.object.position).sub(this.target);\n        this.quaternion.setFromAxisAngle(this._lastAxis, this._lastAngle);\n        this._eye.applyQuaternion(this.quaternion);\n        this.object.up.applyQuaternion(this.quaternion);\n      }\n      this._movePrev.copy(this._moveCurr);\n    });\n    __publicField(this, \"zoomCamera\", () => {\n      let factor;\n      if (this._state === this.STATE.TOUCH_ZOOM_PAN) {\n        factor = this._touchZoomDistanceStart / this._touchZoomDistanceEnd;\n        this._touchZoomDistanceStart = this._touchZoomDistanceEnd;\n        if (this.object.isPerspectiveCamera) {\n          this._eye.multiplyScalar(factor);\n        } else if (this.object.isOrthographicCamera) {\n          this.object.zoom /= factor;\n          this.object.updateProjectionMatrix();\n        } else {\n          console.warn(\"THREE.TrackballControls: Unsupported camera type\");\n        }\n      } else {\n        factor = 1 + (this._zoomEnd.y - this._zoomStart.y) * this.zoomSpeed;\n        if (Math.abs(factor - 1) > this.EPS && factor > 0) {\n          if (this.object.isPerspectiveCamera) {\n            if (factor > 1 && this._eye.length() >= this.maxDistance - this.EPS) {\n              factor = 1;\n            }\n            this._eye.multiplyScalar(factor);\n          } else if (this.object.isOrthographicCamera) {\n            if (factor > 1 && this.object.zoom < this.maxDistance * this.maxDistance) {\n              factor = 1;\n            }\n            this.object.zoom /= factor;\n          } else {\n            console.warn(\"THREE.TrackballControls: Unsupported camera type\");\n          }\n        }\n        if (this.staticMoving) {\n          this._zoomStart.copy(this._zoomEnd);\n        } else {\n          this._zoomStart.y += (this._zoomEnd.y - this._zoomStart.y) * this.dynamicDampingFactor;\n        }\n        if (this.cursorZoom) {\n          this.targetVector.copy(this.target).project(this.object);\n          let worldPos = this.cursorVector.set(this.mousePosition.x, this.mousePosition.y, this.targetVector.z).unproject(this.object);\n          this.target.lerpVectors(worldPos, this.target, factor);\n        }\n        if (this.object.isOrthographicCamera) {\n          this.object.updateProjectionMatrix();\n        }\n      }\n    });\n    __publicField(this, \"mouseChange\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector2());\n    __publicField(this, \"objectUp\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"pan\", new three__WEBPACK_IMPORTED_MODULE_1__.Vector3());\n    __publicField(this, \"panCamera\", () => {\n      if (!this.domElement)\n        return;\n      this.mouseChange.copy(this._panEnd).sub(this._panStart);\n      if (this.mouseChange.lengthSq() > this.EPS) {\n        if (this.object.isOrthographicCamera) {\n          const orthoObject = this.object;\n          const scale_x = (orthoObject.right - orthoObject.left) / this.object.zoom;\n          const scale_y = (orthoObject.top - orthoObject.bottom) / this.object.zoom;\n          this.mouseChange.x *= scale_x;\n          this.mouseChange.y *= scale_y;\n        } else {\n          this.mouseChange.multiplyScalar(this._eye.length() * this.panSpeed);\n        }\n        this.pan.copy(this._eye).cross(this.object.up).setLength(this.mouseChange.x);\n        this.pan.add(this.objectUp.copy(this.object.up).setLength(this.mouseChange.y));\n        this.object.position.add(this.pan);\n        this.target.add(this.pan);\n        if (this.staticMoving) {\n          this._panStart.copy(this._panEnd);\n        } else {\n          this._panStart.add(\n            this.mouseChange.subVectors(this._panEnd, this._panStart).multiplyScalar(this.dynamicDampingFactor)\n          );\n        }\n      }\n    });\n    __publicField(this, \"checkDistances\", () => {\n      if (!this.noZoom || !this.noPan) {\n        if (this._eye.lengthSq() > this.maxDistance * this.maxDistance) {\n          this.object.position.addVectors(this.target, this._eye.setLength(this.maxDistance));\n          this._zoomStart.copy(this._zoomEnd);\n        }\n        if (this._eye.lengthSq() < this.minDistance * this.minDistance) {\n          this.object.position.addVectors(this.target, this._eye.setLength(this.minDistance));\n          this._zoomStart.copy(this._zoomEnd);\n        }\n      }\n    });\n    __publicField(this, \"handleResize\", () => {\n      if (!this.domElement)\n        return;\n      const box = this.domElement.getBoundingClientRect();\n      const d = this.domElement.ownerDocument.documentElement;\n      this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n      this.screen.top = box.top + window.pageYOffset - d.clientTop;\n      this.screen.width = box.width;\n      this.screen.height = box.height;\n    });\n    __publicField(this, \"update\", () => {\n      this._eye.subVectors(this.object.position, this.target);\n      if (!this.noRotate) {\n        this.rotateCamera();\n      }\n      if (!this.noZoom) {\n        this.zoomCamera();\n      }\n      if (!this.noPan) {\n        this.panCamera();\n      }\n      this.object.position.addVectors(this.target, this._eye);\n      if (this.object.isPerspectiveCamera) {\n        this.checkDistances();\n        this.object.lookAt(this.target);\n        if (this.lastPosition.distanceToSquared(this.object.position) > this.EPS) {\n          this.dispatchEvent(this.changeEvent);\n          this.lastPosition.copy(this.object.position);\n        }\n      } else if (this.object.isOrthographicCamera) {\n        this.object.lookAt(this.target);\n        if (this.lastPosition.distanceToSquared(this.object.position) > this.EPS || this.lastZoom !== this.object.zoom) {\n          this.dispatchEvent(this.changeEvent);\n          this.lastPosition.copy(this.object.position);\n          this.lastZoom = this.object.zoom;\n        }\n      } else {\n        console.warn(\"THREE.TrackballControls: Unsupported camera type\");\n      }\n    });\n    __publicField(this, \"reset\", () => {\n      this._state = this.STATE.NONE;\n      this._keyState = this.STATE.NONE;\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.up.copy(this.up0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n      this._eye.subVectors(this.object.position, this.target);\n      this.object.lookAt(this.target);\n      this.dispatchEvent(this.changeEvent);\n      this.lastPosition.copy(this.object.position);\n      this.lastZoom = this.object.zoom;\n    });\n    __publicField(this, \"keydown\", (event) => {\n      if (this.enabled === false)\n        return;\n      window.removeEventListener(\"keydown\", this.keydown);\n      if (this._keyState !== this.STATE.NONE) {\n        return;\n      } else if (event.code === this.keys[this.STATE.ROTATE] && !this.noRotate) {\n        this._keyState = this.STATE.ROTATE;\n      } else if (event.code === this.keys[this.STATE.ZOOM] && !this.noZoom) {\n        this._keyState = this.STATE.ZOOM;\n      } else if (event.code === this.keys[this.STATE.PAN] && !this.noPan) {\n        this._keyState = this.STATE.PAN;\n      }\n    });\n    __publicField(this, \"onPointerDown\", (event) => {\n      if (this.enabled === false)\n        return;\n      switch (event.pointerType) {\n        case \"mouse\":\n        case \"pen\":\n          this.onMouseDown(event);\n          break;\n      }\n    });\n    __publicField(this, \"onPointerMove\", (event) => {\n      if (this.enabled === false)\n        return;\n      switch (event.pointerType) {\n        case \"mouse\":\n        case \"pen\":\n          this.onMouseMove(event);\n          break;\n      }\n    });\n    __publicField(this, \"onPointerUp\", (event) => {\n      if (this.enabled === false)\n        return;\n      switch (event.pointerType) {\n        case \"mouse\":\n        case \"pen\":\n          this.onMouseUp();\n          break;\n      }\n    });\n    __publicField(this, \"keyup\", () => {\n      if (this.enabled === false)\n        return;\n      this._keyState = this.STATE.NONE;\n      window.addEventListener(\"keydown\", this.keydown);\n    });\n    __publicField(this, \"onMouseDown\", (event) => {\n      if (!this.domElement)\n        return;\n      if (this._state === this.STATE.NONE) {\n        switch (event.button) {\n          case this.mouseButtons.LEFT:\n            this._state = this.STATE.ROTATE;\n            break;\n          case this.mouseButtons.MIDDLE:\n            this._state = this.STATE.ZOOM;\n            break;\n          case this.mouseButtons.RIGHT:\n            this._state = this.STATE.PAN;\n            break;\n        }\n      }\n      const state = this._keyState !== this.STATE.NONE ? this._keyState : this._state;\n      if (state === this.STATE.ROTATE && !this.noRotate) {\n        this._moveCurr.copy(this.getMouseOnCircle(event.pageX, event.pageY));\n        this._movePrev.copy(this._moveCurr);\n      } else if (state === this.STATE.ZOOM && !this.noZoom) {\n        this._zoomStart.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n        this._zoomEnd.copy(this._zoomStart);\n      } else if (state === this.STATE.PAN && !this.noPan) {\n        this._panStart.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n        this._panEnd.copy(this._panStart);\n      }\n      this.domElement.ownerDocument.addEventListener(\"pointermove\", this.onPointerMove);\n      this.domElement.ownerDocument.addEventListener(\"pointerup\", this.onPointerUp);\n      this.dispatchEvent(this.startEvent);\n    });\n    __publicField(this, \"onMouseMove\", (event) => {\n      if (this.enabled === false)\n        return;\n      const state = this._keyState !== this.STATE.NONE ? this._keyState : this._state;\n      if (state === this.STATE.ROTATE && !this.noRotate) {\n        this._movePrev.copy(this._moveCurr);\n        this._moveCurr.copy(this.getMouseOnCircle(event.pageX, event.pageY));\n      } else if (state === this.STATE.ZOOM && !this.noZoom) {\n        this._zoomEnd.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n      } else if (state === this.STATE.PAN && !this.noPan) {\n        this._panEnd.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n      }\n    });\n    __publicField(this, \"onMouseUp\", () => {\n      if (!this.domElement)\n        return;\n      if (this.enabled === false)\n        return;\n      this._state = this.STATE.NONE;\n      this.domElement.ownerDocument.removeEventListener(\"pointermove\", this.onPointerMove);\n      this.domElement.ownerDocument.removeEventListener(\"pointerup\", this.onPointerUp);\n      this.dispatchEvent(this.endEvent);\n    });\n    __publicField(this, \"mousewheel\", (event) => {\n      if (this.enabled === false)\n        return;\n      if (this.noZoom === true)\n        return;\n      event.preventDefault();\n      switch (event.deltaMode) {\n        case 2:\n          this._zoomStart.y -= event.deltaY * 0.025;\n          break;\n        case 1:\n          this._zoomStart.y -= event.deltaY * 0.01;\n          break;\n        default:\n          this._zoomStart.y -= event.deltaY * 25e-5;\n          break;\n      }\n      this.mousePosition.x = event.offsetX / this.screen.width * 2 - 1;\n      this.mousePosition.y = -(event.offsetY / this.screen.height) * 2 + 1;\n      this.dispatchEvent(this.startEvent);\n      this.dispatchEvent(this.endEvent);\n    });\n    __publicField(this, \"touchstart\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (event.touches.length) {\n        case 1:\n          this._state = this.STATE.TOUCH_ROTATE;\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n          this._movePrev.copy(this._moveCurr);\n          break;\n        default:\n          this._state = this.STATE.TOUCH_ZOOM_PAN;\n          const dx = event.touches[0].pageX - event.touches[1].pageX;\n          const dy = event.touches[0].pageY - event.touches[1].pageY;\n          this._touchZoomDistanceEnd = this._touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);\n          const x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n          const y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n          this._panStart.copy(this.getMouseOnScreen(x, y));\n          this._panEnd.copy(this._panStart);\n          break;\n      }\n      this.dispatchEvent(this.startEvent);\n    });\n    __publicField(this, \"touchmove\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (event.touches.length) {\n        case 1:\n          this._movePrev.copy(this._moveCurr);\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n          break;\n        default:\n          const dx = event.touches[0].pageX - event.touches[1].pageX;\n          const dy = event.touches[0].pageY - event.touches[1].pageY;\n          this._touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\n          const x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n          const y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n          this._panEnd.copy(this.getMouseOnScreen(x, y));\n          break;\n      }\n    });\n    __publicField(this, \"touchend\", (event) => {\n      if (this.enabled === false)\n        return;\n      switch (event.touches.length) {\n        case 0:\n          this._state = this.STATE.NONE;\n          break;\n        case 1:\n          this._state = this.STATE.TOUCH_ROTATE;\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n          this._movePrev.copy(this._moveCurr);\n          break;\n      }\n      this.dispatchEvent(this.endEvent);\n    });\n    __publicField(this, \"contextmenu\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n    });\n    // https://github.com/mrdoob/three.js/issues/20575\n    __publicField(this, \"connect\", (domElement) => {\n      if (domElement === document) {\n        console.error(\n          'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'\n        );\n      }\n      this.domElement = domElement;\n      this.domElement.addEventListener(\"contextmenu\", this.contextmenu);\n      this.domElement.addEventListener(\"pointerdown\", this.onPointerDown);\n      this.domElement.addEventListener(\"wheel\", this.mousewheel);\n      this.domElement.addEventListener(\"touchstart\", this.touchstart);\n      this.domElement.addEventListener(\"touchend\", this.touchend);\n      this.domElement.addEventListener(\"touchmove\", this.touchmove);\n      this.domElement.ownerDocument.addEventListener(\"pointermove\", this.onPointerMove);\n      this.domElement.ownerDocument.addEventListener(\"pointerup\", this.onPointerUp);\n      window.addEventListener(\"keydown\", this.keydown);\n      window.addEventListener(\"keyup\", this.keyup);\n      this.handleResize();\n    });\n    __publicField(this, \"dispose\", () => {\n      if (!this.domElement)\n        return;\n      this.domElement.removeEventListener(\"contextmenu\", this.contextmenu);\n      this.domElement.removeEventListener(\"pointerdown\", this.onPointerDown);\n      this.domElement.removeEventListener(\"wheel\", this.mousewheel);\n      this.domElement.removeEventListener(\"touchstart\", this.touchstart);\n      this.domElement.removeEventListener(\"touchend\", this.touchend);\n      this.domElement.removeEventListener(\"touchmove\", this.touchmove);\n      this.domElement.ownerDocument.removeEventListener(\"pointermove\", this.onPointerMove);\n      this.domElement.ownerDocument.removeEventListener(\"pointerup\", this.onPointerUp);\n      window.removeEventListener(\"keydown\", this.keydown);\n      window.removeEventListener(\"keyup\", this.keyup);\n    });\n    this.object = object;\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.up0 = this.object.up.clone();\n    this.zoom0 = this.object.zoom;\n    if (domElement !== void 0)\n      this.connect(domElement);\n    this.update();\n  }\n}\n\n//# sourceMappingURL=TrackballControls.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvdGhyZWUtc3RkbGliL2NvbnRyb2xzL1RyYWNrYmFsbENvbnRyb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0EsOEVBQThFLDZEQUE2RDtBQUMzSTtBQUNBO0FBQ0E7QUFDQTtBQUM0RDtBQUNMO0FBQ3ZELGdDQUFnQyxnRUFBZTtBQUMvQztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msc0NBQXNDO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdDQUFLO0FBQ2pCLGNBQWMsd0NBQUs7QUFDbkIsYUFBYSx3Q0FBSztBQUNsQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDBDQUFPO0FBQzdDLDZDQUE2QywwQ0FBTztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw0Q0FBNEMsMENBQU87QUFDbkQsNENBQTRDLDBDQUFPO0FBQ25ELDRDQUE0QywwQ0FBTztBQUNuRDtBQUNBO0FBQ0Esb0NBQW9DLDBDQUFPO0FBQzNDLHlDQUF5QywwQ0FBTztBQUNoRCx5Q0FBeUMsMENBQU87QUFDaEQseUNBQXlDLDBDQUFPO0FBQ2hEO0FBQ0EsMENBQTBDLDBDQUFPO0FBQ2pELHdDQUF3QywwQ0FBTztBQUMvQztBQUNBO0FBQ0EseUNBQXlDLDBDQUFPO0FBQ2hELHVDQUF1QywwQ0FBTztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGdCQUFnQjtBQUN6RCx3Q0FBd0MsZUFBZTtBQUN2RCxzQ0FBc0MsYUFBYTtBQUNuRCw4Q0FBOEMsMENBQU87QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDhDQUE4QywwQ0FBTztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxvQ0FBb0MsMENBQU87QUFDM0MsMENBQTBDLDZDQUFVO0FBQ3BELDRDQUE0QywwQ0FBTztBQUNuRCxpREFBaUQsMENBQU87QUFDeEQsdURBQXVELDBDQUFPO0FBQzlELDZDQUE2QywwQ0FBTztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDJDQUEyQywwQ0FBTztBQUNsRCx3Q0FBd0MsMENBQU87QUFDL0MsbUNBQW1DLDBDQUFPO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG1pY2hhXFxEb3dubG9hZHNcXHpvdWJrb2Zmc2l0ZVxccGVyc29uYWxzaXRlXFxub2RlX21vZHVsZXNcXHRocmVlLXN0ZGxpYlxcY29udHJvbHNcXFRyYWNrYmFsbENvbnRyb2xzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IHtcbiAgX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbmltcG9ydCB7IE1PVVNFLCBWZWN0b3IzLCBWZWN0b3IyLCBRdWF0ZXJuaW9uIH0gZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyBFdmVudERpc3BhdGNoZXIgfSBmcm9tIFwiLi9FdmVudERpc3BhdGNoZXIuanNcIjtcbmNsYXNzIFRyYWNrYmFsbENvbnRyb2xzIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyIHtcbiAgY29uc3RydWN0b3Iob2JqZWN0LCBkb21FbGVtZW50KSB7XG4gICAgc3VwZXIoKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZW5hYmxlZFwiLCB0cnVlKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic2NyZWVuXCIsIHsgbGVmdDogMCwgdG9wOiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyb3RhdGVTcGVlZFwiLCAxKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiem9vbVNwZWVkXCIsIDEuMik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInBhblNwZWVkXCIsIDAuMyk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm5vUm90YXRlXCIsIGZhbHNlKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibm9ab29tXCIsIGZhbHNlKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibm9QYW5cIiwgZmFsc2UpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdGF0aWNNb3ZpbmdcIiwgZmFsc2UpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJkeW5hbWljRGFtcGluZ0ZhY3RvclwiLCAwLjIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJtaW5EaXN0YW5jZVwiLCAwKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibWF4RGlzdGFuY2VcIiwgSW5maW5pdHkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJrZXlzXCIsIFtcbiAgICAgIFwiS2V5QVwiLFxuICAgICAgXCJLZXlTXCIsXG4gICAgICBcIktleURcIlxuICAgICAgLypEKi9cbiAgICBdKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibW91c2VCdXR0b25zXCIsIHtcbiAgICAgIExFRlQ6IE1PVVNFLlJPVEFURSxcbiAgICAgIE1JRERMRTogTU9VU0UuRE9MTFksXG4gICAgICBSSUdIVDogTU9VU0UuUEFOXG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9iamVjdFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZG9tRWxlbWVudFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY3Vyc29yWm9vbVwiLCBmYWxzZSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInRhcmdldFwiLCBuZXcgVmVjdG9yMygpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibW91c2VQb3NpdGlvblwiLCBuZXcgVmVjdG9yMigpKTtcbiAgICAvLyBpbnRlcm5hbHNcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiU1RBVEVcIiwge1xuICAgICAgTk9ORTogLTEsXG4gICAgICBST1RBVEU6IDAsXG4gICAgICBaT09NOiAxLFxuICAgICAgUEFOOiAyLFxuICAgICAgVE9VQ0hfUk9UQVRFOiAzLFxuICAgICAgVE9VQ0hfWk9PTV9QQU46IDRcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiRVBTXCIsIDFlLTYpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJsYXN0Wm9vbVwiLCAxKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibGFzdFBvc2l0aW9uXCIsIG5ldyBWZWN0b3IzKCkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJjdXJzb3JWZWN0b3JcIiwgbmV3IFZlY3RvcjMoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInRhcmdldFZlY3RvclwiLCBuZXcgVmVjdG9yMygpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX3N0YXRlXCIsIHRoaXMuU1RBVEUuTk9ORSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9rZXlTdGF0ZVwiLCB0aGlzLlNUQVRFLk5PTkUpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfZXllXCIsIG5ldyBWZWN0b3IzKCkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfbW92ZVByZXZcIiwgbmV3IFZlY3RvcjIoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9tb3ZlQ3VyclwiLCBuZXcgVmVjdG9yMigpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2xhc3RBeGlzXCIsIG5ldyBWZWN0b3IzKCkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfbGFzdEFuZ2xlXCIsIDApO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfem9vbVN0YXJ0XCIsIG5ldyBWZWN0b3IyKCkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfem9vbUVuZFwiLCBuZXcgVmVjdG9yMigpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX3RvdWNoWm9vbURpc3RhbmNlU3RhcnRcIiwgMCk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl90b3VjaFpvb21EaXN0YW5jZUVuZFwiLCAwKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX3BhblN0YXJ0XCIsIG5ldyBWZWN0b3IyKCkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfcGFuRW5kXCIsIG5ldyBWZWN0b3IyKCkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ0YXJnZXQwXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJwb3NpdGlvbjBcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInVwMFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiem9vbTBcIik7XG4gICAgLy8gZXZlbnRzXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNoYW5nZUV2ZW50XCIsIHsgdHlwZTogXCJjaGFuZ2VcIiB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RhcnRFdmVudFwiLCB7IHR5cGU6IFwic3RhcnRcIiB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZW5kRXZlbnRcIiwgeyB0eXBlOiBcImVuZFwiIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvblNjcmVlblZlY3RvclwiLCBuZXcgVmVjdG9yMigpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZ2V0TW91c2VPblNjcmVlblwiLCAocGFnZVgsIHBhZ2VZKSA9PiB7XG4gICAgICB0aGlzLm9uU2NyZWVuVmVjdG9yLnNldChcbiAgICAgICAgKHBhZ2VYIC0gdGhpcy5zY3JlZW4ubGVmdCkgLyB0aGlzLnNjcmVlbi53aWR0aCxcbiAgICAgICAgKHBhZ2VZIC0gdGhpcy5zY3JlZW4udG9wKSAvIHRoaXMuc2NyZWVuLmhlaWdodFxuICAgICAgKTtcbiAgICAgIHJldHVybiB0aGlzLm9uU2NyZWVuVmVjdG9yO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvbkNpcmNsZVZlY3RvclwiLCBuZXcgVmVjdG9yMigpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZ2V0TW91c2VPbkNpcmNsZVwiLCAocGFnZVgsIHBhZ2VZKSA9PiB7XG4gICAgICB0aGlzLm9uQ2lyY2xlVmVjdG9yLnNldChcbiAgICAgICAgKHBhZ2VYIC0gdGhpcy5zY3JlZW4ud2lkdGggKiAwLjUgLSB0aGlzLnNjcmVlbi5sZWZ0KSAvICh0aGlzLnNjcmVlbi53aWR0aCAqIDAuNSksXG4gICAgICAgICh0aGlzLnNjcmVlbi5oZWlnaHQgKyAyICogKHRoaXMuc2NyZWVuLnRvcCAtIHBhZ2VZKSkgLyB0aGlzLnNjcmVlbi53aWR0aFxuICAgICAgICAvLyBzY3JlZW4ud2lkdGggaW50ZW50aW9uYWxcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5vbkNpcmNsZVZlY3RvcjtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiYXhpc1wiLCBuZXcgVmVjdG9yMygpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicXVhdGVybmlvblwiLCBuZXcgUXVhdGVybmlvbigpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZXllRGlyZWN0aW9uXCIsIG5ldyBWZWN0b3IzKCkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvYmplY3RVcERpcmVjdGlvblwiLCBuZXcgVmVjdG9yMygpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib2JqZWN0U2lkZXdheXNEaXJlY3Rpb25cIiwgbmV3IFZlY3RvcjMoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm1vdmVEaXJlY3Rpb25cIiwgbmV3IFZlY3RvcjMoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImFuZ2xlXCIsIDApO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyb3RhdGVDYW1lcmFcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5tb3ZlRGlyZWN0aW9uLnNldCh0aGlzLl9tb3ZlQ3Vyci54IC0gdGhpcy5fbW92ZVByZXYueCwgdGhpcy5fbW92ZUN1cnIueSAtIHRoaXMuX21vdmVQcmV2LnksIDApO1xuICAgICAgdGhpcy5hbmdsZSA9IHRoaXMubW92ZURpcmVjdGlvbi5sZW5ndGgoKTtcbiAgICAgIGlmICh0aGlzLmFuZ2xlKSB7XG4gICAgICAgIHRoaXMuX2V5ZS5jb3B5KHRoaXMub2JqZWN0LnBvc2l0aW9uKS5zdWIodGhpcy50YXJnZXQpO1xuICAgICAgICB0aGlzLmV5ZURpcmVjdGlvbi5jb3B5KHRoaXMuX2V5ZSkubm9ybWFsaXplKCk7XG4gICAgICAgIHRoaXMub2JqZWN0VXBEaXJlY3Rpb24uY29weSh0aGlzLm9iamVjdC51cCkubm9ybWFsaXplKCk7XG4gICAgICAgIHRoaXMub2JqZWN0U2lkZXdheXNEaXJlY3Rpb24uY3Jvc3NWZWN0b3JzKHRoaXMub2JqZWN0VXBEaXJlY3Rpb24sIHRoaXMuZXllRGlyZWN0aW9uKS5ub3JtYWxpemUoKTtcbiAgICAgICAgdGhpcy5vYmplY3RVcERpcmVjdGlvbi5zZXRMZW5ndGgodGhpcy5fbW92ZUN1cnIueSAtIHRoaXMuX21vdmVQcmV2LnkpO1xuICAgICAgICB0aGlzLm9iamVjdFNpZGV3YXlzRGlyZWN0aW9uLnNldExlbmd0aCh0aGlzLl9tb3ZlQ3Vyci54IC0gdGhpcy5fbW92ZVByZXYueCk7XG4gICAgICAgIHRoaXMubW92ZURpcmVjdGlvbi5jb3B5KHRoaXMub2JqZWN0VXBEaXJlY3Rpb24uYWRkKHRoaXMub2JqZWN0U2lkZXdheXNEaXJlY3Rpb24pKTtcbiAgICAgICAgdGhpcy5heGlzLmNyb3NzVmVjdG9ycyh0aGlzLm1vdmVEaXJlY3Rpb24sIHRoaXMuX2V5ZSkubm9ybWFsaXplKCk7XG4gICAgICAgIHRoaXMuYW5nbGUgKj0gdGhpcy5yb3RhdGVTcGVlZDtcbiAgICAgICAgdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUodGhpcy5heGlzLCB0aGlzLmFuZ2xlKTtcbiAgICAgICAgdGhpcy5fZXllLmFwcGx5UXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pO1xuICAgICAgICB0aGlzLm9iamVjdC51cC5hcHBseVF1YXRlcm5pb24odGhpcy5xdWF0ZXJuaW9uKTtcbiAgICAgICAgdGhpcy5fbGFzdEF4aXMuY29weSh0aGlzLmF4aXMpO1xuICAgICAgICB0aGlzLl9sYXN0QW5nbGUgPSB0aGlzLmFuZ2xlO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5zdGF0aWNNb3ZpbmcgJiYgdGhpcy5fbGFzdEFuZ2xlKSB7XG4gICAgICAgIHRoaXMuX2xhc3RBbmdsZSAqPSBNYXRoLnNxcnQoMSAtIHRoaXMuZHluYW1pY0RhbXBpbmdGYWN0b3IpO1xuICAgICAgICB0aGlzLl9leWUuY29weSh0aGlzLm9iamVjdC5wb3NpdGlvbikuc3ViKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUodGhpcy5fbGFzdEF4aXMsIHRoaXMuX2xhc3RBbmdsZSk7XG4gICAgICAgIHRoaXMuX2V5ZS5hcHBseVF1YXRlcm5pb24odGhpcy5xdWF0ZXJuaW9uKTtcbiAgICAgICAgdGhpcy5vYmplY3QudXAuYXBwbHlRdWF0ZXJuaW9uKHRoaXMucXVhdGVybmlvbik7XG4gICAgICB9XG4gICAgICB0aGlzLl9tb3ZlUHJldi5jb3B5KHRoaXMuX21vdmVDdXJyKTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiem9vbUNhbWVyYVwiLCAoKSA9PiB7XG4gICAgICBsZXQgZmFjdG9yO1xuICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSB0aGlzLlNUQVRFLlRPVUNIX1pPT01fUEFOKSB7XG4gICAgICAgIGZhY3RvciA9IHRoaXMuX3RvdWNoWm9vbURpc3RhbmNlU3RhcnQgLyB0aGlzLl90b3VjaFpvb21EaXN0YW5jZUVuZDtcbiAgICAgICAgdGhpcy5fdG91Y2hab29tRGlzdGFuY2VTdGFydCA9IHRoaXMuX3RvdWNoWm9vbURpc3RhbmNlRW5kO1xuICAgICAgICBpZiAodGhpcy5vYmplY3QuaXNQZXJzcGVjdGl2ZUNhbWVyYSkge1xuICAgICAgICAgIHRoaXMuX2V5ZS5tdWx0aXBseVNjYWxhcihmYWN0b3IpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMub2JqZWN0LmlzT3J0aG9ncmFwaGljQ2FtZXJhKSB7XG4gICAgICAgICAgdGhpcy5vYmplY3Quem9vbSAvPSBmYWN0b3I7XG4gICAgICAgICAgdGhpcy5vYmplY3QudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIlRIUkVFLlRyYWNrYmFsbENvbnRyb2xzOiBVbnN1cHBvcnRlZCBjYW1lcmEgdHlwZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmFjdG9yID0gMSArICh0aGlzLl96b29tRW5kLnkgLSB0aGlzLl96b29tU3RhcnQueSkgKiB0aGlzLnpvb21TcGVlZDtcbiAgICAgICAgaWYgKE1hdGguYWJzKGZhY3RvciAtIDEpID4gdGhpcy5FUFMgJiYgZmFjdG9yID4gMCkge1xuICAgICAgICAgIGlmICh0aGlzLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhKSB7XG4gICAgICAgICAgICBpZiAoZmFjdG9yID4gMSAmJiB0aGlzLl9leWUubGVuZ3RoKCkgPj0gdGhpcy5tYXhEaXN0YW5jZSAtIHRoaXMuRVBTKSB7XG4gICAgICAgICAgICAgIGZhY3RvciA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9leWUubXVsdGlwbHlTY2FsYXIoZmFjdG9yKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub2JqZWN0LmlzT3J0aG9ncmFwaGljQ2FtZXJhKSB7XG4gICAgICAgICAgICBpZiAoZmFjdG9yID4gMSAmJiB0aGlzLm9iamVjdC56b29tIDwgdGhpcy5tYXhEaXN0YW5jZSAqIHRoaXMubWF4RGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgZmFjdG9yID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2JqZWN0Lnpvb20gLz0gZmFjdG9yO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUSFJFRS5UcmFja2JhbGxDb250cm9sczogVW5zdXBwb3J0ZWQgY2FtZXJhIHR5cGVcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRpY01vdmluZykge1xuICAgICAgICAgIHRoaXMuX3pvb21TdGFydC5jb3B5KHRoaXMuX3pvb21FbmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3pvb21TdGFydC55ICs9ICh0aGlzLl96b29tRW5kLnkgLSB0aGlzLl96b29tU3RhcnQueSkgKiB0aGlzLmR5bmFtaWNEYW1waW5nRmFjdG9yO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmN1cnNvclpvb20pIHtcbiAgICAgICAgICB0aGlzLnRhcmdldFZlY3Rvci5jb3B5KHRoaXMudGFyZ2V0KS5wcm9qZWN0KHRoaXMub2JqZWN0KTtcbiAgICAgICAgICBsZXQgd29ybGRQb3MgPSB0aGlzLmN1cnNvclZlY3Rvci5zZXQodGhpcy5tb3VzZVBvc2l0aW9uLngsIHRoaXMubW91c2VQb3NpdGlvbi55LCB0aGlzLnRhcmdldFZlY3Rvci56KS51bnByb2plY3QodGhpcy5vYmplY3QpO1xuICAgICAgICAgIHRoaXMudGFyZ2V0LmxlcnBWZWN0b3JzKHdvcmxkUG9zLCB0aGlzLnRhcmdldCwgZmFjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vYmplY3QuaXNPcnRob2dyYXBoaWNDYW1lcmEpIHtcbiAgICAgICAgICB0aGlzLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibW91c2VDaGFuZ2VcIiwgbmV3IFZlY3RvcjIoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9iamVjdFVwXCIsIG5ldyBWZWN0b3IzKCkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJwYW5cIiwgbmV3IFZlY3RvcjMoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInBhbkNhbWVyYVwiLCAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZG9tRWxlbWVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5tb3VzZUNoYW5nZS5jb3B5KHRoaXMuX3BhbkVuZCkuc3ViKHRoaXMuX3BhblN0YXJ0KTtcbiAgICAgIGlmICh0aGlzLm1vdXNlQ2hhbmdlLmxlbmd0aFNxKCkgPiB0aGlzLkVQUykge1xuICAgICAgICBpZiAodGhpcy5vYmplY3QuaXNPcnRob2dyYXBoaWNDYW1lcmEpIHtcbiAgICAgICAgICBjb25zdCBvcnRob09iamVjdCA9IHRoaXMub2JqZWN0O1xuICAgICAgICAgIGNvbnN0IHNjYWxlX3ggPSAob3J0aG9PYmplY3QucmlnaHQgLSBvcnRob09iamVjdC5sZWZ0KSAvIHRoaXMub2JqZWN0Lnpvb207XG4gICAgICAgICAgY29uc3Qgc2NhbGVfeSA9IChvcnRob09iamVjdC50b3AgLSBvcnRob09iamVjdC5ib3R0b20pIC8gdGhpcy5vYmplY3Quem9vbTtcbiAgICAgICAgICB0aGlzLm1vdXNlQ2hhbmdlLnggKj0gc2NhbGVfeDtcbiAgICAgICAgICB0aGlzLm1vdXNlQ2hhbmdlLnkgKj0gc2NhbGVfeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm1vdXNlQ2hhbmdlLm11bHRpcGx5U2NhbGFyKHRoaXMuX2V5ZS5sZW5ndGgoKSAqIHRoaXMucGFuU3BlZWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFuLmNvcHkodGhpcy5fZXllKS5jcm9zcyh0aGlzLm9iamVjdC51cCkuc2V0TGVuZ3RoKHRoaXMubW91c2VDaGFuZ2UueCk7XG4gICAgICAgIHRoaXMucGFuLmFkZCh0aGlzLm9iamVjdFVwLmNvcHkodGhpcy5vYmplY3QudXApLnNldExlbmd0aCh0aGlzLm1vdXNlQ2hhbmdlLnkpKTtcbiAgICAgICAgdGhpcy5vYmplY3QucG9zaXRpb24uYWRkKHRoaXMucGFuKTtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkKHRoaXMucGFuKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGljTW92aW5nKSB7XG4gICAgICAgICAgdGhpcy5fcGFuU3RhcnQuY29weSh0aGlzLl9wYW5FbmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3BhblN0YXJ0LmFkZChcbiAgICAgICAgICAgIHRoaXMubW91c2VDaGFuZ2Uuc3ViVmVjdG9ycyh0aGlzLl9wYW5FbmQsIHRoaXMuX3BhblN0YXJ0KS5tdWx0aXBseVNjYWxhcih0aGlzLmR5bmFtaWNEYW1waW5nRmFjdG9yKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY2hlY2tEaXN0YW5jZXNcIiwgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLm5vWm9vbSB8fCAhdGhpcy5ub1Bhbikge1xuICAgICAgICBpZiAodGhpcy5fZXllLmxlbmd0aFNxKCkgPiB0aGlzLm1heERpc3RhbmNlICogdGhpcy5tYXhEaXN0YW5jZSkge1xuICAgICAgICAgIHRoaXMub2JqZWN0LnBvc2l0aW9uLmFkZFZlY3RvcnModGhpcy50YXJnZXQsIHRoaXMuX2V5ZS5zZXRMZW5ndGgodGhpcy5tYXhEaXN0YW5jZSkpO1xuICAgICAgICAgIHRoaXMuX3pvb21TdGFydC5jb3B5KHRoaXMuX3pvb21FbmQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9leWUubGVuZ3RoU3EoKSA8IHRoaXMubWluRGlzdGFuY2UgKiB0aGlzLm1pbkRpc3RhbmNlKSB7XG4gICAgICAgICAgdGhpcy5vYmplY3QucG9zaXRpb24uYWRkVmVjdG9ycyh0aGlzLnRhcmdldCwgdGhpcy5fZXllLnNldExlbmd0aCh0aGlzLm1pbkRpc3RhbmNlKSk7XG4gICAgICAgICAgdGhpcy5fem9vbVN0YXJ0LmNvcHkodGhpcy5fem9vbUVuZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaGFuZGxlUmVzaXplXCIsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5kb21FbGVtZW50KVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBib3ggPSB0aGlzLmRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBkID0gdGhpcy5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgdGhpcy5zY3JlZW4ubGVmdCA9IGJveC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0IC0gZC5jbGllbnRMZWZ0O1xuICAgICAgdGhpcy5zY3JlZW4udG9wID0gYm94LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIGQuY2xpZW50VG9wO1xuICAgICAgdGhpcy5zY3JlZW4ud2lkdGggPSBib3gud2lkdGg7XG4gICAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSBib3guaGVpZ2h0O1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ1cGRhdGVcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5fZXllLnN1YlZlY3RvcnModGhpcy5vYmplY3QucG9zaXRpb24sIHRoaXMudGFyZ2V0KTtcbiAgICAgIGlmICghdGhpcy5ub1JvdGF0ZSkge1xuICAgICAgICB0aGlzLnJvdGF0ZUNhbWVyYSgpO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLm5vWm9vbSkge1xuICAgICAgICB0aGlzLnpvb21DYW1lcmEoKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5ub1Bhbikge1xuICAgICAgICB0aGlzLnBhbkNhbWVyYSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5vYmplY3QucG9zaXRpb24uYWRkVmVjdG9ycyh0aGlzLnRhcmdldCwgdGhpcy5fZXllKTtcbiAgICAgIGlmICh0aGlzLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhKSB7XG4gICAgICAgIHRoaXMuY2hlY2tEaXN0YW5jZXMoKTtcbiAgICAgICAgdGhpcy5vYmplY3QubG9va0F0KHRoaXMudGFyZ2V0KTtcbiAgICAgICAgaWYgKHRoaXMubGFzdFBvc2l0aW9uLmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMub2JqZWN0LnBvc2l0aW9uKSA+IHRoaXMuRVBTKSB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHRoaXMuY2hhbmdlRXZlbnQpO1xuICAgICAgICAgIHRoaXMubGFzdFBvc2l0aW9uLmNvcHkodGhpcy5vYmplY3QucG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub2JqZWN0LmlzT3J0aG9ncmFwaGljQ2FtZXJhKSB7XG4gICAgICAgIHRoaXMub2JqZWN0Lmxvb2tBdCh0aGlzLnRhcmdldCk7XG4gICAgICAgIGlmICh0aGlzLmxhc3RQb3NpdGlvbi5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLm9iamVjdC5wb3NpdGlvbikgPiB0aGlzLkVQUyB8fCB0aGlzLmxhc3Rab29tICE9PSB0aGlzLm9iamVjdC56b29tKSB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHRoaXMuY2hhbmdlRXZlbnQpO1xuICAgICAgICAgIHRoaXMubGFzdFBvc2l0aW9uLmNvcHkodGhpcy5vYmplY3QucG9zaXRpb24pO1xuICAgICAgICAgIHRoaXMubGFzdFpvb20gPSB0aGlzLm9iamVjdC56b29tO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJUSFJFRS5UcmFja2JhbGxDb250cm9sczogVW5zdXBwb3J0ZWQgY2FtZXJhIHR5cGVcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJlc2V0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuX3N0YXRlID0gdGhpcy5TVEFURS5OT05FO1xuICAgICAgdGhpcy5fa2V5U3RhdGUgPSB0aGlzLlNUQVRFLk5PTkU7XG4gICAgICB0aGlzLnRhcmdldC5jb3B5KHRoaXMudGFyZ2V0MCk7XG4gICAgICB0aGlzLm9iamVjdC5wb3NpdGlvbi5jb3B5KHRoaXMucG9zaXRpb24wKTtcbiAgICAgIHRoaXMub2JqZWN0LnVwLmNvcHkodGhpcy51cDApO1xuICAgICAgdGhpcy5vYmplY3Quem9vbSA9IHRoaXMuem9vbTA7XG4gICAgICB0aGlzLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICB0aGlzLl9leWUuc3ViVmVjdG9ycyh0aGlzLm9iamVjdC5wb3NpdGlvbiwgdGhpcy50YXJnZXQpO1xuICAgICAgdGhpcy5vYmplY3QubG9va0F0KHRoaXMudGFyZ2V0KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLmNoYW5nZUV2ZW50KTtcbiAgICAgIHRoaXMubGFzdFBvc2l0aW9uLmNvcHkodGhpcy5vYmplY3QucG9zaXRpb24pO1xuICAgICAgdGhpcy5sYXN0Wm9vbSA9IHRoaXMub2JqZWN0Lnpvb207XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5lbmFibGVkID09PSBmYWxzZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMua2V5ZG93bik7XG4gICAgICBpZiAodGhpcy5fa2V5U3RhdGUgIT09IHRoaXMuU1RBVEUuTk9ORSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmNvZGUgPT09IHRoaXMua2V5c1t0aGlzLlNUQVRFLlJPVEFURV0gJiYgIXRoaXMubm9Sb3RhdGUpIHtcbiAgICAgICAgdGhpcy5fa2V5U3RhdGUgPSB0aGlzLlNUQVRFLlJPVEFURTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY29kZSA9PT0gdGhpcy5rZXlzW3RoaXMuU1RBVEUuWk9PTV0gJiYgIXRoaXMubm9ab29tKSB7XG4gICAgICAgIHRoaXMuX2tleVN0YXRlID0gdGhpcy5TVEFURS5aT09NO1xuICAgICAgfSBlbHNlIGlmIChldmVudC5jb2RlID09PSB0aGlzLmtleXNbdGhpcy5TVEFURS5QQU5dICYmICF0aGlzLm5vUGFuKSB7XG4gICAgICAgIHRoaXMuX2tleVN0YXRlID0gdGhpcy5TVEFURS5QQU47XG4gICAgICB9XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9uUG9pbnRlckRvd25cIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5lbmFibGVkID09PSBmYWxzZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgc3dpdGNoIChldmVudC5wb2ludGVyVHlwZSkge1xuICAgICAgICBjYXNlIFwibW91c2VcIjpcbiAgICAgICAgY2FzZSBcInBlblwiOlxuICAgICAgICAgIHRoaXMub25Nb3VzZURvd24oZXZlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvblBvaW50ZXJNb3ZlXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZW5hYmxlZCA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHN3aXRjaCAoZXZlbnQucG9pbnRlclR5cGUpIHtcbiAgICAgICAgY2FzZSBcIm1vdXNlXCI6XG4gICAgICAgIGNhc2UgXCJwZW5cIjpcbiAgICAgICAgICB0aGlzLm9uTW91c2VNb3ZlKGV2ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib25Qb2ludGVyVXBcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5lbmFibGVkID09PSBmYWxzZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgc3dpdGNoIChldmVudC5wb2ludGVyVHlwZSkge1xuICAgICAgICBjYXNlIFwibW91c2VcIjpcbiAgICAgICAgY2FzZSBcInBlblwiOlxuICAgICAgICAgIHRoaXMub25Nb3VzZVVwKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtleXVwXCIsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmVuYWJsZWQgPT09IGZhbHNlKVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLl9rZXlTdGF0ZSA9IHRoaXMuU1RBVEUuTk9ORTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmtleWRvd24pO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvbk1vdXNlRG93blwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICghdGhpcy5kb21FbGVtZW50KVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAodGhpcy5fc3RhdGUgPT09IHRoaXMuU1RBVEUuTk9ORSkge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmJ1dHRvbikge1xuICAgICAgICAgIGNhc2UgdGhpcy5tb3VzZUJ1dHRvbnMuTEVGVDpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gdGhpcy5TVEFURS5ST1RBVEU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHRoaXMubW91c2VCdXR0b25zLk1JRERMRTpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gdGhpcy5TVEFURS5aT09NO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSB0aGlzLm1vdXNlQnV0dG9ucy5SSUdIVDpcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gdGhpcy5TVEFURS5QQU47XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9rZXlTdGF0ZSAhPT0gdGhpcy5TVEFURS5OT05FID8gdGhpcy5fa2V5U3RhdGUgOiB0aGlzLl9zdGF0ZTtcbiAgICAgIGlmIChzdGF0ZSA9PT0gdGhpcy5TVEFURS5ST1RBVEUgJiYgIXRoaXMubm9Sb3RhdGUpIHtcbiAgICAgICAgdGhpcy5fbW92ZUN1cnIuY29weSh0aGlzLmdldE1vdXNlT25DaXJjbGUoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKSk7XG4gICAgICAgIHRoaXMuX21vdmVQcmV2LmNvcHkodGhpcy5fbW92ZUN1cnIpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gdGhpcy5TVEFURS5aT09NICYmICF0aGlzLm5vWm9vbSkge1xuICAgICAgICB0aGlzLl96b29tU3RhcnQuY29weSh0aGlzLmdldE1vdXNlT25TY3JlZW4oZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKSk7XG4gICAgICAgIHRoaXMuX3pvb21FbmQuY29weSh0aGlzLl96b29tU3RhcnQpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gdGhpcy5TVEFURS5QQU4gJiYgIXRoaXMubm9QYW4pIHtcbiAgICAgICAgdGhpcy5fcGFuU3RhcnQuY29weSh0aGlzLmdldE1vdXNlT25TY3JlZW4oZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKSk7XG4gICAgICAgIHRoaXMuX3BhbkVuZC5jb3B5KHRoaXMuX3BhblN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZG9tRWxlbWVudC5vd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLm9uUG9pbnRlck1vdmUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCB0aGlzLm9uUG9pbnRlclVwKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLnN0YXJ0RXZlbnQpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvbk1vdXNlTW92ZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICh0aGlzLmVuYWJsZWQgPT09IGZhbHNlKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX2tleVN0YXRlICE9PSB0aGlzLlNUQVRFLk5PTkUgPyB0aGlzLl9rZXlTdGF0ZSA6IHRoaXMuX3N0YXRlO1xuICAgICAgaWYgKHN0YXRlID09PSB0aGlzLlNUQVRFLlJPVEFURSAmJiAhdGhpcy5ub1JvdGF0ZSkge1xuICAgICAgICB0aGlzLl9tb3ZlUHJldi5jb3B5KHRoaXMuX21vdmVDdXJyKTtcbiAgICAgICAgdGhpcy5fbW92ZUN1cnIuY29weSh0aGlzLmdldE1vdXNlT25DaXJjbGUoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSB0aGlzLlNUQVRFLlpPT00gJiYgIXRoaXMubm9ab29tKSB7XG4gICAgICAgIHRoaXMuX3pvb21FbmQuY29weSh0aGlzLmdldE1vdXNlT25TY3JlZW4oZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSB0aGlzLlNUQVRFLlBBTiAmJiAhdGhpcy5ub1Bhbikge1xuICAgICAgICB0aGlzLl9wYW5FbmQuY29weSh0aGlzLmdldE1vdXNlT25TY3JlZW4oZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9uTW91c2VVcFwiLCAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuZG9tRWxlbWVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMuZW5hYmxlZCA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHRoaXMuX3N0YXRlID0gdGhpcy5TVEFURS5OT05FO1xuICAgICAgdGhpcy5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIHRoaXMub25Qb2ludGVyTW92ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMub25Qb2ludGVyVXApO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHRoaXMuZW5kRXZlbnQpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJtb3VzZXdoZWVsXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZW5hYmxlZCA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmICh0aGlzLm5vWm9vbSA9PT0gdHJ1ZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHN3aXRjaCAoZXZlbnQuZGVsdGFNb2RlKSB7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICB0aGlzLl96b29tU3RhcnQueSAtPSBldmVudC5kZWx0YVkgKiAwLjAyNTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHRoaXMuX3pvb21TdGFydC55IC09IGV2ZW50LmRlbHRhWSAqIDAuMDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhpcy5fem9vbVN0YXJ0LnkgLT0gZXZlbnQuZGVsdGFZICogMjVlLTU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0aGlzLm1vdXNlUG9zaXRpb24ueCA9IGV2ZW50Lm9mZnNldFggLyB0aGlzLnNjcmVlbi53aWR0aCAqIDIgLSAxO1xuICAgICAgdGhpcy5tb3VzZVBvc2l0aW9uLnkgPSAtKGV2ZW50Lm9mZnNldFkgLyB0aGlzLnNjcmVlbi5oZWlnaHQpICogMiArIDE7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy5zdGFydEV2ZW50KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLmVuZEV2ZW50KTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidG91Y2hzdGFydFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICh0aGlzLmVuYWJsZWQgPT09IGZhbHNlKVxuICAgICAgICByZXR1cm47XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc3dpdGNoIChldmVudC50b3VjaGVzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgdGhpcy5fc3RhdGUgPSB0aGlzLlNUQVRFLlRPVUNIX1JPVEFURTtcbiAgICAgICAgICB0aGlzLl9tb3ZlQ3Vyci5jb3B5KHRoaXMuZ2V0TW91c2VPbkNpcmNsZShldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZKSk7XG4gICAgICAgICAgdGhpcy5fbW92ZVByZXYuY29weSh0aGlzLl9tb3ZlQ3Vycik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhpcy5fc3RhdGUgPSB0aGlzLlNUQVRFLlRPVUNIX1pPT01fUEFOO1xuICAgICAgICAgIGNvbnN0IGR4ID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWCAtIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVg7XG4gICAgICAgICAgY29uc3QgZHkgPSBldmVudC50b3VjaGVzWzBdLnBhZ2VZIC0gZXZlbnQudG91Y2hlc1sxXS5wYWdlWTtcbiAgICAgICAgICB0aGlzLl90b3VjaFpvb21EaXN0YW5jZUVuZCA9IHRoaXMuX3RvdWNoWm9vbURpc3RhbmNlU3RhcnQgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgICAgIGNvbnN0IHggPSAoZXZlbnQudG91Y2hlc1swXS5wYWdlWCArIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVgpIC8gMjtcbiAgICAgICAgICBjb25zdCB5ID0gKGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgKyBldmVudC50b3VjaGVzWzFdLnBhZ2VZKSAvIDI7XG4gICAgICAgICAgdGhpcy5fcGFuU3RhcnQuY29weSh0aGlzLmdldE1vdXNlT25TY3JlZW4oeCwgeSkpO1xuICAgICAgICAgIHRoaXMuX3BhbkVuZC5jb3B5KHRoaXMuX3BhblN0YXJ0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLnN0YXJ0RXZlbnQpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ0b3VjaG1vdmVcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5lbmFibGVkID09PSBmYWxzZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHN3aXRjaCAoZXZlbnQudG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHRoaXMuX21vdmVQcmV2LmNvcHkodGhpcy5fbW92ZUN1cnIpO1xuICAgICAgICAgIHRoaXMuX21vdmVDdXJyLmNvcHkodGhpcy5nZXRNb3VzZU9uQ2lyY2xlKGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zdCBkeCA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVggLSBldmVudC50b3VjaGVzWzFdLnBhZ2VYO1xuICAgICAgICAgIGNvbnN0IGR5ID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVk7XG4gICAgICAgICAgdGhpcy5fdG91Y2hab29tRGlzdGFuY2VFbmQgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgICAgICAgIGNvbnN0IHggPSAoZXZlbnQudG91Y2hlc1swXS5wYWdlWCArIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVgpIC8gMjtcbiAgICAgICAgICBjb25zdCB5ID0gKGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgKyBldmVudC50b3VjaGVzWzFdLnBhZ2VZKSAvIDI7XG4gICAgICAgICAgdGhpcy5fcGFuRW5kLmNvcHkodGhpcy5nZXRNb3VzZU9uU2NyZWVuKHgsIHkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidG91Y2hlbmRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5lbmFibGVkID09PSBmYWxzZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgc3dpdGNoIChldmVudC50b3VjaGVzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgdGhpcy5fc3RhdGUgPSB0aGlzLlNUQVRFLk5PTkU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHRoaXMuU1RBVEUuVE9VQ0hfUk9UQVRFO1xuICAgICAgICAgIHRoaXMuX21vdmVDdXJyLmNvcHkodGhpcy5nZXRNb3VzZU9uQ2lyY2xlKGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpKTtcbiAgICAgICAgICB0aGlzLl9tb3ZlUHJldi5jb3B5KHRoaXMuX21vdmVDdXJyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0aGlzLmVuZEV2ZW50KTtcbiAgICB9KTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY29udGV4dG1lbnVcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5lbmFibGVkID09PSBmYWxzZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8yMDU3NVxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJjb25uZWN0XCIsIChkb21FbGVtZW50KSA9PiB7XG4gICAgICBpZiAoZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnVEhSRUUuT3JiaXRDb250cm9sczogXCJkb2N1bWVudFwiIHNob3VsZCBub3QgYmUgdXNlZCBhcyB0aGUgdGFyZ2V0IFwiZG9tRWxlbWVudFwiLiBQbGVhc2UgdXNlIFwicmVuZGVyZXIuZG9tRWxlbWVudFwiIGluc3RlYWQuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5kb21FbGVtZW50ID0gZG9tRWxlbWVudDtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgdGhpcy5jb250ZXh0bWVudSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMub25Qb2ludGVyRG93bik7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIHRoaXMubW91c2V3aGVlbCk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy50b3VjaHN0YXJ0KTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy50b3VjaGVuZCk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLnRvdWNobW92ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5vblBvaW50ZXJNb3ZlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5vd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgdGhpcy5vblBvaW50ZXJVcCk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5rZXlkb3duKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5rZXl1cCk7XG4gICAgICB0aGlzLmhhbmRsZVJlc2l6ZSgpO1xuICAgIH0pO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJkaXNwb3NlXCIsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5kb21FbGVtZW50KVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIHRoaXMuY29udGV4dG1lbnUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLm9uUG9pbnRlckRvd24pO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCB0aGlzLm1vdXNld2hlZWwpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMudG91Y2hzdGFydCk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMudG91Y2hlbmQpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy50b3VjaG1vdmUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIHRoaXMub25Qb2ludGVyTW92ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMub25Qb2ludGVyVXApO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMua2V5ZG93bik7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMua2V5dXApO1xuICAgIH0pO1xuICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuICAgIHRoaXMudGFyZ2V0MCA9IHRoaXMudGFyZ2V0LmNsb25lKCk7XG4gICAgdGhpcy5wb3NpdGlvbjAgPSB0aGlzLm9iamVjdC5wb3NpdGlvbi5jbG9uZSgpO1xuICAgIHRoaXMudXAwID0gdGhpcy5vYmplY3QudXAuY2xvbmUoKTtcbiAgICB0aGlzLnpvb20wID0gdGhpcy5vYmplY3Quem9vbTtcbiAgICBpZiAoZG9tRWxlbWVudCAhPT0gdm9pZCAwKVxuICAgICAgdGhpcy5jb25uZWN0KGRvbUVsZW1lbnQpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIFRyYWNrYmFsbENvbnRyb2xzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhY2tiYWxsQ29udHJvbHMuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/three-stdlib/controls/TrackballControls.js\n");

/***/ })

};
;